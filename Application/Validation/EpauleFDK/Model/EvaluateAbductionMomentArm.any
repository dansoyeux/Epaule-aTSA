AnyFolder EvaluateMomentArms = {
  
  AnyFolder &Mus=Main.HumanModel.BodyModel.Right.ShoulderArm.Mus;
 
  // Formule pour calculer la vitesse du driver, 
  // Me pas referencer le driver directement sinon lors du load ferait division par 0
  // Mettre la meme formule que celle mise dans la vitesse angulaire du driver d'abduction dans AngularVelocity
  
  //AnyVar AngularVelocity = (120/4)/180*pi;
  
//  Vitesses du driver fourier avec 70 steps
  AnyVector FourierAngularVelocity = DesignVar({1.46888E-18,
    0.001091833,
    0.002181402,
    0.00326645,
    0.004344728,
    0.005414001,
    0.006472053,
    0.00751669,
    0.008545748,
    0.009557093,
    0.01054863,
    0.011518303,
    0.012464103,
    0.013384069,
    0.014276294,
    0.01513893,
    0.015970188,
    0.016768345,
    0.017531748,
    0.018258813,
    0.018948034,
    0.019597982,
    0.02020731,
    0.020774756,
    0.021299143,
    0.021779384,
    0.022214484,
    0.022603541,
    0.022945749,
    0.023240398,
    0.023486878,
    0.023684678,
    0.023833387,
    0.023932699,
    0.023982406,
    0.023982406,
    0.023932699,
    0.023833387,
    0.023684678,
    0.023486878,
    0.023240398,
    0.022945749,
    0.022603541,
    0.022214484,
    0.021779384,
    0.021299143,
    0.020774756,
    0.02020731,
    0.019597982,
    0.018948034,
    0.018258813,
    0.017531748,
    0.016768345,
    0.015970188,
    0.01513893,
    0.014276294,
    0.013384069,
    0.012464103,
    0.011518303,
    0.01054863,
    0.009557093,
    0.008545748,
    0.00751669,
    0.006472053,
    0.005414001,
    0.004344728,
    0.00326645,
    0.002181402,
    0.001091833,
    1.46888E-18
  });  
  

// Pour 90 steps
//AnyVector FourierAngularVelocity = DesignVar({1.46888E-18,
//                                       0.000846594,
//                                       0.001692132,
//                                       0.002535563,
//                                       0.003375835,
//                                       0.004211900,
//                                       0.005042719,
//                                       0.005867254,
//                                       0.006684480,
//                                       0.007493378,
//                                       0.008292940,
//                                       0.009082170,
//                                       0.009860085,
//                                       0.010625715,
//                                       0.011378107,
//                                       0.012116323,
//                                       0.012839444,
//                                       0.013546569,
//                                       0.014236816,
//                                       0.014909326,
//                                       0.015563260,
//                                       0.016197805,
//                                       0.016812170,
//                                       0.017405588,
//                                       0.017977321,
//                                       0.018526657,
//                                       0.019052911,
//                                       0.019555427,
//                                       0.020033580,
//                                       0.020486773,
//                                       0.020914443,
//                                       0.021316055,
//                                       0.021691111,
//                                       0.022039142,
//                                       0.022359715,
//                                       0.022652430,
//                                       0.022916924,
//                                       0.023152866,
//                                       0.023359962,
//                                       0.023537955,
//                                       0.023686622,
//                                       0.023805779,
//                                       0.023895276,
//                                       0.023955003,
//                                       0.023984886,
//                                       0.023984886,
//                                       0.023955003,
//                                       0.023895276,
//                                       0.023805779,
//                                       0.023686622,
//                                       0.023537955,
//                                       0.023359962,
//                                       0.023152866,
//                                       0.022916924,
//                                       0.022652430,
//                                       0.022359715,
//                                       0.022039142,
//                                       0.021691111,
//                                       0.021316055,
//                                       0.020914443,
//                                       0.020486773,
//                                       0.020033580,
//                                       0.019555427,
//                                       0.019052911,
//                                       0.018526657,
//                                       0.017977321,
//                                       0.017405588,
//                                       0.016812170,
//                                       0.016197805,
//                                       0.015563260,
//                                       0.014909326,
//                                       0.014236816,
//                                       0.013546569,
//                                       0.012839444,
//                                       0.012116323,
//                                       0.011378107,
//                                       0.010625715,
//                                       0.009860085,
//                                       0.009082170,
//                                       0.008292940,
//                                       0.007493378,
//                                       0.006684480,
//                                       0.005867254,
//                                       0.005042719,
//                                       0.004211900,
//                                       0.003375835,
//                                       0.002535563,
//                                       0.001692132,
//                                       0.000846594,
//                                       1.46888E-18});
  
  AnyVar AngularVelocity = FourierAngularVelocity[Main.Study.iStep]; 

  #define _CODE_MACRO_(name) \
  // Creation de la variable MomentArm dans le dossier du muscle
  Mus.name = {AnyVar MomentArm = -1 * LmtDot/..AngularVelocity;}; \
  // Creation d'un dossier qui stocke aussi les MomentArm de chaque muscle
  AnyVar name = -1 * Mus.name.LmtDot/AngularVelocity;
  #include  "ArmMuscleList.any"

};
